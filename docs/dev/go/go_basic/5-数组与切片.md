# 五、数组与切片

## 1、数组声明与初始化

数组长度也是数组类型的一部分，`[5]int`和`[10]int`是属于不同类型的。Go 语言中的数组是一种**值类型，**因此可以通过`new()`来创建**。**

> Go 语言中，`new()`可以得到某类型零值的指针。
在 Go 语言中，`new()`函数用于创建一个指向新分配的零值的指针。它的主要作用是为值类型（如整数、浮点数、结构体等）分配内存，并返回一个指向该内存的指针。这个指针指向的内存已经被初始化为零值。
语法如下：
`ptr := new(Type)`

## 2、切片

切片（slice）是对数组连续片段的引用（该数组我们称之为相关数组，通常是匿名的），所以切片是一个引用类型。这个片段可以是整个数组，或者是由起始和终止索引标识的一些项的子集。终止索引标识的项不包括在切片内。切片是可索引的，并且可以由`len()`函数获取长度。切片的长度可以在运行时修改，最小为 0 最大为相关数组的长度：切片是一个**长度可变的数组**。
切片提供了计算容量的函数`cap()`可以测量切片最长可以达到多少：最大为数组长度。多个切片如果表示同一个数组的片段，它们可以共享数据。
切片的声明：

```go
// 切片无需声明长度
var identifier []TYPE

// 初始化
var slice1 []TYPE = arr[startIndex:endIndex]
```

### (1) 将切片作为函数参数

将切片作为参数传递，可以避免数组拷贝。
例：计算数组和

```go
package main

import "fmt"

func main() {
	numbers := [5]int{1, 2, 3, 4, 5}
	fmt.Println(sum(numbers[:]))
}

// 计算数组和
func sum(arrSlice []int) int {
	var sum int
	for _, val := range arrSlice {
		sum += val
	}
	return sum
}
```

### (2) 使用`make()`创建切片

相关数组还没有定义时，可以使用`make()`函数来创建一个切片同时创建好相关数组：

```go
slice := make([]type, len, cap)
```
